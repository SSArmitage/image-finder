(this["webpackJsonpimage-finder"]=this["webpackJsonpimage-finder"]||[]).push([[0],{22:function(e,t,a){e.exports=a(66)},27:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var o=a(0),s=a.n(o),n=a(21),l=a.n(n),r=a(4),c=a(5),i=a(7),u=a(6),d=a(8),m=(a(27),a(9)),p=a.n(m),h=a(3),g=a.n(h),f=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleQuery=function(t){e.setState({userQuery:t.target.value})},e.handleCollectionClick=function(){e.state.dropDownOpen?e.setState({dropDownOpen:!1}):e.setState({dropDownOpen:!0})},e.handleItemClick=function(t){var a=document.getElementById("".concat(t.target.id)).firstChild.data;e.setState({selectedCollection:a,userChoseCollection:!0})},e.handleSubmit=function(t){t.preventDefault(),e.props.loading("start"),e.state.userQuery?e.state.selectedCollection?e.getDataQueryCollection():e.getDataQuery():e.state.selectedCollection?e.getDataCollection():alert("Please select 1. A query or collection OR 2. A query and a collection")},e.getDataQuery=function(){g()({method:"get",url:"".concat(e.state.unsplashURL,"/search/photos"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:31,query:e.state.userQuery}}).then((function(t){e.props.userSelected(t.data.results),e.props.loading("stop")})).catch((function(t){403===t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),e.props.userSelected(["Error","Rate Limit Exceeded"])):e.props.userSelected(["Error","No Results"]),e.props.loading("stop")}))},e.getDataQueryCollection=function(){var t=e.state.selectedCollection;console.log(t);var a=e.state.collectionIds["".concat(t)];console.log(a);var o=a.toString();console.log(o),g()({method:"get",url:"".concat(e.state.unsplashURL,"/search/photos"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:20,query:e.state.userQuery,collections:o}}).then((function(t){console.log(t),e.props.userSelected(t.data.results),e.props.loading("stop")})).catch((function(t){403===t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),e.props.userSelected(["Error","Rate Limit Exceeded"])):e.props.userSelected(["Error","No Results"]),e.props.loading("stop")}))},e.getDataCollection=function(){var t=e.state.selectedCollection;console.log(t);var a=e.state.collectionIds["".concat(t)];console.log(a);var o=[];a.forEach((function(t){var a=g()({method:"get",url:"".concat(e.state.unsplashURL,"/collections/").concat(t,"/photos"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:1}});o.push(a)})),Promise.all(o).then((function(e){var t=[];e.forEach((function(e){e.data.forEach((function(e){t.push(e)}))})),console.log(t),s(t)})).catch((function(t){403===t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),e.props.userSelected(["Error","Rate Limit Exceeded"])):e.props.userSelected(["Error","No Results"]),e.props.loading("stop")}));var s=function(t){console.log("erroooorrr"),e.props.userSelected(t),e.props.loading("stop")}},e.state={dropDownOpen:!1,userQuery:"",selectedCollection:"",userChoseCollection:!1,unsplashURL:"https://api.unsplash.com/",unsplashKey:"SrDYW1BbGH_3MeKS7LBS8RT9tLwCRk5ZFF7XxN2XwqU",collections:["Featured","Wallpapers","Nature","Textures & Patterns","Architecture"],collectionIds:{},imageUrls:[]},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={};this.state.collections.forEach((function(a){g()({method:"get",url:"".concat(e.state.unsplashURL,"/search/collections"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:20,query:a}}).then((function(e){var o=e.data.results.map((function(e){return e.id}));t[a]=o})).catch((function(e){console.log(e)}))})),this.props.passCollectionIds(t),this.setState({collectionIds:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{class:"queryScreen"},s.a.createElement("div",{className:"wrapper flexContainer"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:p.a,alt:"Logo"})),s.a.createElement("h1",null,"image ",s.a.createElement("span",null,"search")),s.a.createElement("form",{className:"queryForm",onSubmit:this.handleSubmit},s.a.createElement("label",{for:"query"}),s.a.createElement("input",{type:"text",id:"query",placeholder:"Query",onChange:this.handleQuery,value:this.state.userQuery}),s.a.createElement("label",{for:"collections"}),s.a.createElement("div",{className:"collection",onClick:this.handleCollectionClick},this.state.userChoseCollection?s.a.createElement("input",{type:"text",id:"collections",className:"collections",placeholder:this.state.selectedCollection,disabled:!0}):s.a.createElement("input",{type:"text",id:"collections",className:"collections",placeholder:"Collections",disabled:!0}),this.state.dropDownOpen?s.a.createElement("ul",null,this.state.collections.map((function(t,a){return s.a.createElement("li",{onClick:e.handleItemClick,id:"listItem".concat(a)},t)}))):null),s.a.createElement("button",null,"Search"))))}}]),t}(o.Component),I=function(e){return s.a.createElement("div",{className:"overlay"},s.a.createElement("div",{className:"modalContainer",onClick:function(){e.closeModal()}},s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modalImage"},s.a.createElement("img",{src:e.displayImageInfo.urls.small,alt:e.displayImageInfo.alt_description})),s.a.createElement("div",{className:"imageInfo"},s.a.createElement("div",{className:"profileImage"},s.a.createElement("img",{src:e.displayImageInfo.user.profile_image.medium,alt:"Photographer's profile picture"})),s.a.createElement("div",{className:"userInfo"},s.a.createElement("p",{className:"name"},e.displayImageInfo.user.name),s.a.createElement("p",{className:"social"},"@".concat(e.displayImageInfo.user.username)))))))},C=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleHamburgerClick=function(){console.log("I am HAMBURGER");var t=document.querySelector(".hamburger");e.state.hamburgerMenuVisible?(console.log("I was open now Im closed"),t.classList.add("notVisible"),t.classList.remove("hamburgerQueryForm"),e.setState({hamburgerMenuVisible:!1})):(console.log("I was closed now Im open"),t.classList.add("hamburgerQueryForm"),t.classList.remove("notVisible"),e.setState({hamburgerMenuVisible:!0},(function(){var a=document.querySelector(".hamburgerQueryForm");console.log(a),a.addEventListener("submit",(function(){console.log("I was submitted!"),console.log("I was open now Im closed"),t.classList.add("notVisible"),t.classList.remove("hamburgerQueryForm"),e.setState({hamburgerMenuVisible:!1,userQuery:"",userChoseCollection:!1,selectedCollection:"Collections"})}))})))},e.handleQuery=function(t){e.setState({userQuery:t.target.value})},e.handleCollectionClick=function(){e.state.dropDownOpen?e.setState({dropDownOpen:!1}):e.setState({dropDownOpen:!0})},e.handleItemClick=function(t){var a=document.getElementById("".concat(t.target.id)).firstChild.data;e.setState({selectedCollection:a,userChoseCollection:!0})},e.handleSubmit=function(t){t.preventDefault(),e.props.loading("start"),e.state.userQuery?"Collections"!==e.state.selectedCollection&&""!==e.state.selectedCollection?e.getDataQueryCollection():e.getDataQuery():e.state.selectedCollection?e.getDataCollection():alert("Please select a query/collection/query & collection")},e.getDataQuery=function(){g()({method:"get",url:"".concat(e.state.unsplashURL,"/search/photos"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:20,query:e.state.userQuery}}).then((function(t){e.props.userSelected(t.data.results),e.props.loading("stop")})).catch((function(t){403===t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),e.props.userSelected(["Error","Rate Limit Exceeded"])):e.props.userSelected(["Error","No Results"]),e.props.loading("stop")}))},e.getDataQueryCollection=function(){var t=e.state.selectedCollection;console.log(t);var a=e.state.collectionIds["".concat(t)];console.log(a),a.forEach((function(t){g()({method:"get",url:"".concat(e.state.unsplashURL,"/search/photos"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:20,query:e.state.userQuery,collections:t}}).then((function(t){console.log(t.data.results),e.props.userSelected(t.data.results),e.props.loading("stop")})).catch((function(t){403===t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),e.props.userSelected(["Error","Rate Limit Exceeded"])):e.props.userSelected(["Error","No Results"]),e.props.loading("stop")}))}))},e.getDataCollection=function(){var t=e.state.selectedCollection,a=e.state.collectionIds["".concat(t)],o=[];a.forEach((function(t){var a=g()({method:"get",url:"".concat(e.state.unsplashURL,"/collections/").concat(t,"/photos"),responseType:"json",params:{client_id:e.state.unsplashKey,per_page:1}});o.push(a)})),Promise.all(o).then((function(e){console.log(e.status);var t=[];e.forEach((function(e){e.data.forEach((function(e){t.push(e)}))})),s(t)})).catch((function(t){403===t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),e.props.userSelected(["Error","Rate Limit Exceeded"])):e.props.userSelected(["Error","No Results"]),e.props.loading("stop")}));var s=function(t){e.props.userSelected(t),e.props.loading("stop")}},e.handleCloseModal=function(){e.setState({imageObjectLength:0})},e.state={dropDownOpen:!1,userQuery:"",selectedCollection:"",userChoseCollection:!1,unsplashURL:"https://api.unsplash.com/",unsplashKey:"SrDYW1BbGH_3MeKS7LBS8RT9tLwCRk5ZFF7XxN2XwqU",collections:["Featured","Wallpapers","Nature","Textures & Patterns","Architecture"],collectionIds:{},imageUrls:[],modalVisible:!1,clickedImageInfo:{},imageObjectLength:0,hamburgerNav:!1,hamburgerMenuVisible:!1,hamburgerMenuInitialized:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({collectionIds:this.props.passCollectionIds});var t=window.innerWidth;console.log(t),t<700&&this.setState({hamburgerNav:!0,hamburgerMenuInitialized:!0},(function(){document.querySelector(".logoContainer").classList.add("hamburgerLogoContainer");var t=document.querySelector(".queryForm");console.log(t),t.classList.add("notVisible"),t.classList.add("hamburger"),t.classList.remove("queryForm");var a=document.querySelector("#hamburgerIcon");console.log(a),a.addEventListener("click",(function(){console.log("I was clicked"),e.handleHamburgerClick()}))})),window.addEventListener("resize",(function(t){if(t.target.window.innerWidth>700){if(document.querySelector(".logoContainer").classList.remove("hamburgerLogoContainer"),e.state.hamburgerMenuInitialized){var a=document.querySelector(".hamburger");a.classList.add("queryForm"),a.classList.remove("hamburgerQueryForm"),a.classList.remove("notVisible")}e.setState({hamburgerNav:!1,hamburgerMenuVisible:!1})}else if(e.state.hamburgerMenuInitialized){console.log("I already existed!"),document.querySelector(".logoContainer").classList.add("hamburgerLogoContainer");var o=document.querySelector(".hamburger");console.log(o),o.classList.add("notVisible"),o.classList.remove("queryForm"),e.state.hamburgerNav||e.setState({hamburgerNav:!0},(function(){var t=document.querySelector("#hamburgerIcon");console.log(t),t.addEventListener("click",(function(){console.log("I was clicked"),e.handleHamburgerClick()}))}))}else{console.log("I did not exist");var s=document.querySelector(".queryForm");console.log(s),s.classList.add("notVisible"),s.classList.add("hamburger"),s.classList.remove("queryForm"),document.querySelector(".logoContainer").classList.add("hamburgerLogoContainer"),e.setState({hamburgerNav:!0,hamburgerMenuInitialized:!0},(function(){var t=document.querySelector("#hamburgerIcon");console.log(t),t.addEventListener("click",(function(){console.log("I was clicked"),e.handleHamburgerClick()}))}))}}))}},{key:"componentDidUpdate",value:function(e){if(this.props.passClickedImageInfo!==e.passClickedImageInfo){var t=Object.keys(this.props.passClickedImageInfo).length;this.setState({clickedImageInfo:this.props.passClickedImageInfo,imageObjectLength:t})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{class:"header"},s.a.createElement("div",{className:"flexContainer"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:p.a,alt:""})),s.a.createElement("form",{className:"queryForm",onSubmit:this.handleSubmit},s.a.createElement("h1",{className:"title"},"image ",s.a.createElement("span",null,"search")),s.a.createElement("label",{for:"query"}),s.a.createElement("input",{type:"text",id:"query",className:"query",placeholder:"Query",onChange:this.handleQuery,value:this.state.userQuery}),s.a.createElement("label",{for:"collections"}),s.a.createElement("div",{className:"collection",onClick:this.handleCollectionClick},this.state.userChoseCollection?s.a.createElement("input",{type:"text",id:"collections",className:"collections",placeholder:this.state.selectedCollection,disabled:!0}):s.a.createElement("input",{type:"text",id:"collections",className:"collections",placeholder:"Collections",disabled:!0}),this.state.dropDownOpen?s.a.createElement("ul",null,this.state.collections.map((function(t,a){return s.a.createElement("li",{onClick:e.handleItemClick,id:"listItem".concat(a)},t)}))):null),s.a.createElement("button",null,"Search")),this.state.hamburgerNav?s.a.createElement("div",{className:"iconContainer",id:"hamburgerIcon"},s.a.createElement("i",{class:"fas fa-bars"})):null),0===this.state.imageObjectLength?null:s.a.createElement(I,{displayImageInfo:this.state.clickedImageInfo,closeModal:this.handleCloseModal}))}}]),t}(o.Component),v=function(){return s.a.createElement("div",{className:"noResults"},s.a.createElement("p",null,"Sorry, no matching photos could be found!"))},y=function(){return s.a.createElement("div",{className:"noResults"},s.a.createElement("p",null,"This application is considered to be in demo mode by Unsplash, so the API currently places a limit of 50 requests per hour. You have exceeded this rate limit."),s.a.createElement("p",null,"This is more likely to occur when searching Collections, as a Collection query word will be associated with several Unsplash Collections, resulting in more pings to the API. "))},b=(a(20),a(10)),E=a.n(b),S=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleClick=function(t){var a=t.target.id;console.log(a);var o=e.state.imageInfo[a];e.props.passImageClick(o)},e.state={imageInfo:[],isLoading:!0},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("I have loaded"),console.log(this.props.imageInfo),this.setState({imageInfo:this.props.imageInfo})}},{key:"componentDidUpdate",value:function(e){console.log(this.props.imageInfo),console.log("I have updated"),this.props.imageInfo!==e.imageInfo&&this.setState({imageInfo:this.props.imageInfo})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrapper display"},"Error"===this.state.imageInfo[0]?s.a.createElement("div",null,"Rate Limit Exceeded"===this.state.imageInfo[1]?s.a.createElement(y,null):s.a.createElement(v,null)):s.a.createElement("div",{className:"imageListContainer"},s.a.createElement("ul",{className:"imageList"},this.state.imageInfo.map((function(t,a){return s.a.createElement("li",{className:"image"},s.a.createElement("img",{src:t.urls.small,id:a,alt:t.alt_description}),s.a.createElement("div",{className:"imageOverlay",id:a,onClick:e.handleClick}))})))))}}]),t}(o.Component),k=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleUserSelected=function(t){e.setState({userSelectedVariables:!0,imageInfo:t})},e.handleCollectionIds=function(t){e.setState({collectionIds:t})},e.handleImageClick=function(t){e.setState({imageClickedInfo:t,overlayVisible:!0})},e.loading=function(t){"start"===t?(console.log("I am loading"),e.setState({isLoading:!0})):setTimeout((function(){console.log("I am done loading"),e.setState({isLoading:!1})}),1e3)},e.state={userSelectedVariables:!1,imageInfo:[],collectionIds:{},imageClickedInfo:{},overlayVisible:!1,isLoading:!0},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},this.state.userSelectedVariables?s.a.createElement(C,{userSelected:this.handleUserSelected,passCollectionIds:this.state.collectionIds,passClickedImageInfo:this.state.imageClickedInfo,loading:this.loading}):null,s.a.createElement("main",null,this.state.userSelectedVariables?s.a.createElement("div",{className:"mainContainer"},this.state.isLoading?s.a.createElement("div",null,s.a.createElement(E.a,{type:"ThreeDots",color:"#2A2B8D",height:100,width:100,timeout:2e3})):s.a.createElement(S,{imageInfo:this.state.imageInfo,passImageClick:this.handleImageClick})):s.a.createElement(f,{userSelected:this.handleUserSelected,passCollectionIds:this.handleCollectionIds,loading:this.loading})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQgSURBVHgB7Vg9bBtVHP+9O9txpJa8soSpurQwQVV3hIWLIBFSl5oNljQbSSXSssGSdEc4GUjK1ISh6kTDRmNQDAwwVMJQkBhIuXbr1OdWla5xc9f///kuuZzPX3V8GdrfkPfp9373/34BXqI/iE4bjsj3bQNiSkCco6GqqY0xpIhMqwUpbctH9ip9g41DRCJBKScKPsQN6lqxJYWU0UTwqJyc8oFF6sqE/RI9gLQg3dhv8vSRSlW6/lARO5DUmvujHRGB7TG6wInP5+m3WWRtstXTdKiNhvRbnUME/Spp6WcD26tJ5+3dF8GInPwfzWpNwroHrJnYrnjIzQn4dn+26leIyCWlylW0IviKnJynwQIOESTRxYfq5qXonCbIthKo1sLho0pmNB7aqdGYy3KMs6K7Zj4p4q8/v4V6cBO//rKMjz+aQEqgCJK9EQ5M/jOUP1kiYVrhJJMplT7FyMgRPR4dfRVnz76DWu0xbt36F4OHsIbyr9eeuFu/G6zeuIHPzHyo26+Xf8Obb32l28Z8EWmBHG+euRk7MO344qlTJ3S7HBAL2+PHR5EiJEWIi4aAYcdX7t27r9sLs2/va2/fvoM0QR48RwRxOr6wcuU73c4SsX/+/ky30fkuodB/apTkxaIp2q+srGP2wpcksS09Zol+/sUVXLtWRpdwSDNnqPI5Rv0q+oCg7OHjgOHBn36kyqvcp/M5ZJzDc8LgNIODhWPCrHCHczv6IMcgG6wXSYRrOCCQTa8p9YPDfQ9D8+gTpus6LgXE9eH8ibvQ1Yew2uxXPvzrQht/8j6yvWnX/U81pGeuok80lfxSfmAB9YIHs7A36ylDG/tTNnjO25tIyNuU7Fcp2U83zrF1HEu4kKNGAV3m/Y5vkjjaVT0kvbFQvZ3AgvDgLdBZ76IN2Z4IBgVtR+n1duYu0Sm0IphUmichR0ZPOfJ80hqHljrqlXDstqmSk4lOLpCzNjmVGGCh6gR1ndPtD0bkxGa8cMkMsIom1Q1xDFwMJwLHoScC2HlYY1Sc+tNhqU/9y36M4CACdeRwrxIlx/YbCCQ0J37ebvIzlwdK/cj79+XvTE2Vx6V8j77U6OlJ2Rm+Qxfu5mGSZokkVEjYSFI15qgNHMyvRtWcaTD/aR0DRMP7k52LIeBZLZYcAylgZ1/Q19loiS8PJ+gtvbS3LKywR/u+T4WgGTEfsrnLD1X5Inn4GYGdIkmPPH1Da/CoNrW9GGvAXMwgFdSrHEUD6AI5eFbumlbDDMxSOObAX6Os1HOqe15QXfgAgffy5Tvwlh5TeOF/meSQm4qEHgYXvOMqTYIUSs4Tsavd7CVSxVDtJlKC696pDudPskDsNtsUhaIZCtzXw4nUCDJcd6synH9jjbzzWKC614Il9uxvyCkoq2xU8BIvEp4B89tzKSMi9+YAAAAASUVORK5CYII="}},[[22,1,2]]]);
//# sourceMappingURL=main.817059b4.chunk.js.map